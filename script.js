var card1 = {
    nome: "Eren Yeager (titan)",
    img: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQodX4tDHtRA4-ld0__jDA3hWKPc4-ISXAi8w&usqp=CAU',
    atributos: {
        ataque: 85,
        defesa: 98,
        magia: 10,
        Inteligência: 40
    }
}
var card2 = {
    nome: "Naruto Uzumazi",
    img: 'https://s.aficionados.com.br/imagens/x1080-0_cke.jpg',
    atributos: {
        ataque: 86,
        defesa: 65,
        magia: 80,
        Inteligência: 35
    }
}
var card3 = {
    nome: "Aizen",
    img: 'https://s.aficionados.com.br/imagens/aizen.jpg',
    atributos: {
        ataque: 90,
        defesa: 85,
        magia: 98,
        Inteligência: 90
    }
}
var card4 = {
    nome: "Saitama",
    img: 'https://s.aficionados.com.br/imagens/one-punch-man-saitama_cke.jpg',
    atributos: {
        ataque: 100,
        defesa: 95,
        magia: 0,
        Inteligência: 10
    }
}
var card5 = {
    nome: "Goku (instinto superior)",
    img: 'https://s.aficionados.com.br/imagens/ultra-instinct-goku-mastered-e1585578158402_cke.jpg',
    atributos: {
        ataque: 98,
        defesa: 97,
        magia: 35,
        Inteligência: 30
    }
}
var card6 = {
    nome: "Ichigo (Final)",
    img: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSP7Anetg1OUB60I50yp0-dItBPgYWtWdX30w&usqp=CAU',
    atributos: {
        ataque: 95,
        defesa: 87,
        magia: 35,
        Inteligência: 30
    }
}
var card7 = {
    nome: "Light Yagami 'Kira'",
    img: 'https://kanto.legiaodosherois.com.br/w760-h398-cfill/wp-content/uploads/2020/06/legiao_jeRxvoqHdmDp.jpg.jpeg',
    atributos: {
        ataque: 20,
        defesa: 10,
        magia: 60,
        Inteligência: 98
    }
}
var card8 = {
    nome: "Edward Elric",
    img: 'https://kanto.legiaodosherois.com.br/w760-h398-cfill/wp-content/uploads/2020/06/legiao_X2GTS0oKOCND.jpg.jpeg',
    atributos: {
        ataque: 70,
        defesa: 85,
        magia: 75,
        Inteligência: 60
    }
}
var card9 = {
    nome: "Luffy",
    img: 'https://kanto.legiaodosherois.com.br/w760-h398-cfill/wp-content/uploads/2020/06/legiao_E0OQ52NwpJCu.jpg.jpeg',
    atributos: {
        ataque: 85,
        defesa: 80,
        magia: 30,
        Inteligência: 30
    }
}
var card10 = {
    nome: "Lelouch Lamperouge",
    img: 'https://kanto.legiaodosherois.com.br/w760-h398-cfill/wp-content/uploads/2020/06/legiao_1rMdE3z8byoa.jpg.jpeg',
    atributos: {
        ataque: 30,
        defesa: 10,
        magia: 30,
        Inteligência: 90
    }
}
var card11 = {
    nome: "Zoro",
    img: 'https://kanto.legiaodosherois.com.br/w760-h398-cfill/wp-content/uploads/2020/06/legiao_qPIcaQVNhwz8.jpg.jpeg',
    atributos: {
        ataque: 90,
        defesa: 89,
        magia: 30,
        Inteligência: 28
    }
}
var card12 = {
    nome: "Levi",
    img: 'https://kanto.legiaodosherois.com.br/w760-h398-cfill/wp-content/uploads/2020/06/legiao_VoczjWtAuE7p.jpg.jpeg',
    atributos: {
        ataque: 95,
        defesa: 60,
        magia: 5,
        Inteligência: 70
    }
}
var card13 = {
    nome: "L. Lawliet",
    img: 'https://kanto.legiaodosherois.com.br/w760-h398-cfill/wp-content/uploads/2020/06/legiao_zRuqMP9w8rTx.jpg.jpeg',
    atributos: {
        ataque: 15,
        defesa: 10,
        magia: 0,
        Inteligência: 100
    }
}
var card14 = {
    nome: "L. Lawliet",
    img: 'https://kanto.legiaodosherois.com.br/w760-h398-cfill/wp-content/uploads/2020/06/legiao_zRuqMP9w8rTx.jpg.jpeg',
    atributos: {
        ataque: 15,
        defesa: 10,
        magia: 0,
        Inteligência: 100
    }
}
var card15 = {
    nome: "All might",
    img: 'https://cdn.maioresemelhores.com/imagens/mm-personagens-mais-fortes-21.jpg',
    atributos: {
        ataque: 95,
        defesa: 90,
        magia: 88,
        Inteligência: 30
    }
}
var card16 = {
    nome: "All might",
    img: 'https://cdn.maioresemelhores.com/imagens/mm-personagens-mais-fortes-21.jpg',
    atributos: {
        ataque: 95,
        defesa: 90,
        magia: 88,
        Inteligência: 30
    }
}
var card17 = {
    nome: "Sasuke",
    img: 'https://cdn.maioresemelhores.com/imagens/mm-personagens-de-naruto-03.jpg',
    atributos: {
        ataque: 85,
        defesa: 70,
        magia: 85,
        Inteligência: 70
    }
}
var card18 = {
    nome: "Tanjiro",
    img: 'https://metagalaxia.com.br/wp-content/uploads/2019/10/Os-Personagens-de-Demon-Slayer-Kimetsu-no-Yaiba-tanjiro.jpg',
    atributos: {
        ataque: 60,
        defesa: 65,
        magia: 40,
        Inteligência: 60
    }
}
var card19 = {
    nome: "Shanks",
    img: 'https://static.wikia.nocookie.net/liberproeliis/images/9/9e/Ddivs7v-3d42ef3a-1f30-4962-b613-e0b894e89dfb.png/revision/latest/scale-to-width-down/310?cb=20200902152746&path-prefix=pt-br',
    atributos: {
        ataque: 95,
        defesa: 89,
        magia: 40,
        Inteligência: 60
    }
}
var superTrunfo = {
    nome: "Gojo Satoru - Super Trunfo",
    img: 'https://kanto.legiaodosherois.com.br/w750-q90-k1/wp-content/uploads/2021/02/legiao_fbDVwR5Lu8Ci.jpg.jpeg',
    atributos: {
        ataque: 100,
        defesa: 100,
        magia: 100,
        Inteligência: 100
    }
}
var cards = [ card1, card2, card3, card4, card5, card6, card7, card8, card9, card10, card11, card12, card13, card14, card15, card16, card17, card18, card19, superTrunfo];

var btnS = document.getElementById('btnSortear');
var btnJ = document.getElementById('btnJogar');
var btnP = document.getElementById('btnProximaRodada');
var pontosJogador = 0;
var pontosMaquina = 0;
var cardMaquina
var cardJogador
attPlacar();
quantidadeCards()

function sortearCarta() {
    var indexCardJogador = parseInt((Math.random() * cards.length));
    cardJogador = cards[indexCardJogador];
    cards.splice (indexCardJogador, 1);
    var indexCardMaquina = parseInt((Math.random() * cards.length));
    cardMaquina = cards[indexCardMaquina];
    cards.splice (indexCardMaquina, 1);
    exibirCardJogador();
    attPlacar();
    btnS.disabled = true;
    btnJ.disabled = false;
}
function exibirCardJogador() {
    var cardJ = document.getElementById('carta-jogador')
    var moldura = '<img src="card.png"  style=" width: inherit; height: inherit; position:absolute;">'
    cardJ.style.backgroundImage = `url(${cardJogador.img})`
    var nome = `<p class="carta-subtitle">${cardJogador.nome}</p>`
    
    var opcoesTexto = ''
    for (var atributo in cardJogador.atributos) {
        opcoesTexto += "|<input id('at') type='radio'name='atributo' value='" + atributo + "'>" + atributo + " " + cardJogador.atributos[atributo] + " |"
        
    }
        
    var html = "<div id='opcoes' class='carta-status'>"
    cardJ.innerHTML = moldura + nome + html + opcoesTexto + '</  div>'
}
function obterAtributoSelecionado() {
    var radioAtributo = document.getElementsByName('atributo')
    for (var i = 0; i < radioAtributo.length; i++) {
        if (radioAtributo[i].checked) {
            return radioAtributo[i].value}
    }
}
function attPlacar() {
    var placar = document.getElementById('placar');
    placar.innerHTML = `Jogador ${pontosJogador} / ${pontosMaquina} Máquina`

}
function quantidadeCards() {
    var placar = document.getElementById('quantidade-cartas');
    placar.innerHTML = `Quantidades de cartas no jogo: ${cards.length}`

}
function exibirCardMaquina() {
    var cardM = document.getElementById('carta-maquina')
    var moldura = '<img src="card.png"  style=" width: inherit; height: inherit; position:absolute;">'
    cardM.style.backgroundImage = `url(${cardMaquina.img})`
    var nome = `<p class="carta-subtitle">${cardMaquina.nome}</p>`
    
    var opcoesTexto = ''
    for (var atributo in cardMaquina.atributos) {
        opcoesTexto += `${atributo}: ${cardMaquina.atributos[atributo]} <br>`
        
    }
    var html = "<div id='opcoes' class='carta-status'>"
        cardM.innerHTML = moldura + nome + html + opcoesTexto + '</  div>'
}
function jogar() {
    var divRes = document.getElementById('resultado')
    var atributoSelecionado = obterAtributoSelecionado ();

    if (cardJogador.atributos[atributoSelecionado] > cardMaquina.atributos[atributoSelecionado] || cardJogador.nome == 'Gojo Satoru - Super Trunfo') {
        divRes.innerHTML = "Ponto para jogador!"
        pontosJogador++
    } else if (cardMaquina.atributos[atributoSelecionado] > cardJogador.atributos[atributoSelecionado] || cardMaquina.nome == 'Gojo Satoru - Super Trunfo') {
        divRes.innerHTML = "Ponto para Máquina!"
        pontosMaquina++
    } else {
        divRes.innerHTML = "Empate!"
    }
    btnJ.disabled = true
    btnP.disabled = false
    btnS.disabled = true
    exibirCardMaquina()
    attPlacar()
}
function proximaRodada() {
    var apagarCard = document.querySelector('div#cartas')
    apagarCard.innerHTML = `<div id="carta-jogador" class="carta"></div>
    <div id="carta-maquina" class="carta"></div>`
    var apagarRes = document.querySelector('div#resultado')
    apagarRes.innerHTML = `<div id="resultado"></div>`
    btnJ.disabled = true;
    btnP.disabled = true;
    btnS.disabled = false;
    quantidadeCards()
    if (cards.length == 0 && pontosJogador > pontosMaquina) {
        alert('Fim de jogo! Você venceu.')
    } else if (cards.length == 0 && pontosJogador < pontosMaquina) {
        alert('Fim de jogo! Você venceu.')
    }
}
